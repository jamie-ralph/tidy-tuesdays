source('C:/Users/james/Dropbox/tidy-tuesdays/code/volcanos.R', echo=TRUE)
source('C:/Users/james/Dropbox/tidy-tuesdays/code/volcanos.R', echo=TRUE)
install.packages("plotly")
p <- ggplot(df, aes(x = number_of_eruptions, y = population_within_30_km)) +
geom_point(aes(size = max_vei, colour = max_vei, alpha = max_vei)) +
scale_y_continuous(label = scales::number_format()) +
labs(
x = "Number of confirmed eruptions",
y = "Populations within 30km"
) +
scale_color_viridis(option = "magma") +
scale_size_continuous(guide = FALSE) +
scale_alpha_continuous(guide = FALSE) +
theme(
text = element_text(colour = "white"),
plot.background = element_rect(fill = "#574a48"),
panel.background = element_rect(fill = "#574a48"),
legend.background = element_rect(fill = "#574a48"),
axis.text.x = element_text(colour = "white"),
axis.text.y = element_text(colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank()
) +
annotate("text", x = 120, y = 4400000, label = "Merapi", angle = 20, colour = "white") +
annotate(
geom = "curve", x = 118, y = 4400000, xend = 105, yend = 4350000,
curvature = .3, arrow = arrow(length = unit(2, "mm")), colour = "white")
plotly::ggplotly(p)
p <- ggplot(df, aes(x = number_of_eruptions, y = population_within_30_km)) +
geom_point(aes(size = max_vei, colour = max_vei, alpha = max_vei)) +
scale_y_continuous(label = scales::number_format()) +
labs(
x = "Number of confirmed eruptions",
y = "Populations within 30km"
) +
scale_color_viridis(option = "magma") +
scale_size_continuous(guide = FALSE) +
scale_alpha_continuous(guide = FALSE) +
theme(
text = element_text(colour = "white"),
plot.background = element_rect(fill = "#574a48"),
panel.background = element_rect(fill = "#574a48"),
legend.background = element_rect(fill = "#574a48"),
axis.text.x = element_text(colour = "white"),
axis.text.y = element_text(colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank()
) +
annotate("text", x = 120, y = 4400000, label = "Merapi", angle = 20, colour = "white")
plotly::ggplotly(p)
ggplot(df, aes(x = number_of_eruptions, y = population_within_30_km)) +
geom_point(aes(size = max_vei, colour = max_vei, alpha = max_vei)) +
scale_y_continuous(label = scales::number_format()) +
labs(
x = "Number of confirmed eruptions",
y = "Populations within 30km"
) +
scale_color_viridis(option = "magma") +
scale_size_continuous(guide = FALSE) +
scale_alpha_continuous(guide = FALSE) +
theme(
text = element_text(colour = "white"),
plot.background = element_rect(fill = "#574a48"),
panel.background = element_rect(fill = "#574a48"),
legend.background = element_rect(fill = "#574a48"),
axis.text.x = element_text(colour = "white"),
axis.text.y = element_text(colour = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank()
) +
annotate("text", x = 120, y = 4400000, label = "Merapi", angle = 20, colour = "white") +
annotate(
geom = "curve", x = 118, y = 4400000, xend = 105, yend = 4350000,
curvature = .3, arrow = arrow(length = unit(2, "mm")), colour = "white")
x <- df %>% filter(population_within_30_km < 4500000 & population_within_30_km > 4000000)
View(x)
x <- df %>% filter(population_within_30_km < 4500000 & population_within_30_km > 3900000)
rm(x)
